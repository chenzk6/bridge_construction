
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    âœ… run_ik æ­£ç¡®æ€§éªŒè¯æŒ‡å—                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€éªŒè¯ç»“è®ºã€‘
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ¨ run_ik çš„å®ç°æ˜¯æ­£ç¡®çš„ï¼âœ¨

é€šè¿‡é€è¡Œä»£ç åˆ†æï¼Œå·²éªŒè¯æ‰€æœ‰å…³é”®åŠŸèƒ½ï¼š
  âœ… åæ ‡ç³»å˜æ¢å®Œå¤‡
  âœ… IKFast ç§¯åˆ†æ­£ç¡®
  âœ… å¤šè§£å¤„ç†è§„èŒƒ
  âœ… çº¦æŸæ£€æŸ¥å®Œå–„


ã€è¯¦ç»†éªŒè¯å†…å®¹ã€‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£  åæ ‡ç³»å˜æ¢éªŒè¯
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ ä½ç½®å˜æ¢æµç¨‹ï¼š

   è¾“å…¥ï¼špos (PyBullet ä¸–ç•Œåæ ‡)
     â†“
   [æ­¥éª¤1] ik_pos = pos - base_pos
     â””â”€ ä»ä¸–ç•Œåæ ‡è½¬åˆ°åŸºåº§åæ ‡
   â†“
   [æ­¥éª¤2] ik_pos[0] += x_offset      # x è½´åç§»
           ik_pos[2] += 0.048         # z è½´åç§» (ç¼“å†²)
     â””â”€ è¡¥å¿æœºæ¢°è‡‚çš„ç»“æ„åç§»
   â†“
   [æ­¥éª¤3] ik_pos = base_rot_mat.T @ ik_pos
     â””â”€ åº”ç”¨åŸºåº§æ—‹è½¬çš„é€†å˜æ¢
   â†“
   è¾“å‡ºï¼šIKFast è¾“å…¥åæ ‡ç³»ä¸­çš„ä½ç½®

ğŸ“ å§¿æ€å˜æ¢æµç¨‹ï¼š

   è¾“å…¥ï¼šorn (PyBullet å››å…ƒæ•°)
     â†“
   [æ­¥éª¤1] ik_mat = quat2mat(orn)
     â””â”€ å››å…ƒæ•°è½¬ä¸ºæ—‹è½¬çŸ©é˜µ
   â†“
   [æ­¥éª¤2] ik_mat = base_rot_mat.T @ ik_mat
     â””â”€ åº”ç”¨åŸºåº§æ—‹è½¬çš„é€†å˜æ¢
   â†“
   è¾“å‡ºï¼šIKFast è¾“å…¥åæ ‡ç³»ä¸­çš„æ—‹è½¬çŸ©é˜µ

ğŸ”„ åæ ‡ç³»è½¬æ¢ç¤ºæ„ï¼š

   PyBullet ä¸–ç•Œåæ ‡ç³»          IKFast åŸºåº§åæ ‡ç³»
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   
   pos_world                    pos_ikfast
        â†“                            â†‘
   [å»åŸºåº§ä½ç§»]                  [è¡¥å¿]
        â†“                            â”‚
   [è¡¥å¿ç»“æ„åç§»]   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  
        â†“
   [åº”ç”¨åŸºåº§æ—‹è½¬]
        â†“
   pos_ikfast


2ï¸âƒ£  IKFast è¾“å…¥æ ¼å¼éªŒè¯
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… IKFast è¾“å…¥æ ¼å¼æ­£ç¡®ï¼š

   ee_pose = np.concatenate([ik_mat, ik_pos], axis=-1)
   
   â”‚ R(0,0)  R(0,1)  R(0,2) â”‚ p_x â”‚
   â”‚ R(1,0)  R(1,1)  R(1,2) â”‚ p_y â”‚
   â”‚ R(2,0)  R(2,1)  R(2,2) â”‚ p_z â”‚
   
   è¿™æ˜¯æ ‡å‡†çš„ 3x4 é½æ¬¡å˜æ¢çŸ©é˜µæ ¼å¼


3ï¸âƒ£  å¤šè§£å¤„ç†éªŒè¯
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… IKFast è¿”å›çš„å¤šè§£å¤„ç†æµç¨‹ï¼š

   joint_pose (åŸå§‹è¿”å›)
   [j0, j1, j2, j3, j4, j5, j0', j1', j2', j3', j4', j5', ...]
    â””â”€ å±•å¹³çš„æ•°ç»„
   
   â†“ [è®¡ç®—è§£çš„æ•°é‡] n_solutions = len(joint_pose) // 6
   
   â†“ [é‡å¡‘ä¸ºçŸ©é˜µ] np.reshape(joint_pose, (n_solutions, 6))
   
   [[j0,   j1,   j2,   j3,   j4,   j5  ],
    [j0',  j1',  j2',  j3',  j4',  j5' ],
    ...]
   
   â†“ [è¿‡æ»¤æœ‰æ•ˆè§£] çº¦æŸæ£€æŸ¥
   
   valid_solutions (åªåŒ…å«æ»¡è¶³å…³èŠ‚é™åˆ¶çš„è§£)

ä¾‹å­ï¼š
   å¦‚æœ IKFast è¿”å› [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 
                     0.5, 1.5, 2.5, 3.5, 4.5, 5.5]
   
   åˆ™ï¼šn_solutions = 12 // 6 = 2 (æœ‰ä¸¤ä¸ªè§£)
   
   é‡å¡‘åå¾—åˆ°ï¼š
   [
     [1.0, 2.0, 3.0, 4.0, 5.0, 6.0],  â† è§£1
     [0.5, 1.5, 2.5, 3.5, 4.5, 5.5],  â† è§£2
   ]


4ï¸âƒ£  çº¦æŸæ£€æŸ¥éªŒè¯
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… çº¦æŸæ£€æŸ¥é€»è¾‘è§„èŒƒï¼š

   å¯¹æ¯ä¸ª IKFast è¿”å›çš„è§£ï¼š
   
   â”Œâ”€ ä¸‹é™æ£€æŸ¥
   â”‚  solution > joint_ll - 1e-3
   â”‚  â”‚
   â”‚  â””â”€ å…³èŠ‚è§’åº¦å¿…é¡»å¤§äºä¸‹é™
   â”‚     å…è®¸ 1 æ¯«å¼§åº¦çš„æµ®ç‚¹è¯¯å·®
   â”‚
   â”œâ”€ ä¸Šé™æ£€æŸ¥
   â”‚  solution < joint_ul + 1e-3
   â”‚  â”‚
   â”‚  â””â”€ å…³èŠ‚è§’åº¦å¿…é¡»å°äºä¸Šé™
   â”‚     å…è®¸ 1 æ¯«å¼§åº¦çš„æµ®ç‚¹è¯¯å·®
   â”‚
   â””â”€ ç»¼åˆåˆ¤æ–­
      np.all(condition)
      â””â”€ æ‰€æœ‰å…³èŠ‚éƒ½æ»¡è¶³ â†’ æœ‰æ•ˆè§£ âœ…
         ä»»ä½•å…³èŠ‚ä¸æ»¡è¶³ â†’ æ— æ•ˆè§£ âŒ

ç¤ºä¾‹ï¼š
   joint_ll = [-Ï€, -Ï€/2, -Ï€, -2Ï€, -Ï€, -Ï€]
   joint_ul = [Ï€,  Ï€/2,  Ï€,  2Ï€,  Ï€,  Ï€]
   
   è§£1 = [0.5, -1.0, 0.5, 0.5, 0.5, 0.5]
   â””â”€ æ‰€æœ‰å€¼éƒ½åœ¨é™åˆ¶èŒƒå›´å†… â†’ âœ… æœ‰æ•ˆ
   
   è§£2 = [4.0, -1.0, 0.5, 0.5, 0.5, 0.5]
   â””â”€ ç¬¬ä¸€ä¸ªå€¼ 4.0 > Ï€ â‰ˆ 3.14 â†’ âŒ æ— æ•ˆ


5ï¸âƒ£  è¿”å›å€¼éªŒè¯
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… è¿”å›å€¼æ ¼å¼è§„èŒƒï¼š

   return (solutions, {'is_success': len(valid_solutions) > 0})
   
   solutions
   â”œâ”€ ç±»å‹ï¼šnumpy æ•°ç»„
   â”œâ”€ å½¢çŠ¶ï¼š(n_valid, 6) 
   â”‚  â””â”€ n_valid æ˜¯æœ‰æ•ˆè§£çš„æ•°é‡
   â”œâ”€ å†…å®¹ï¼šæ¯è¡Œæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å…³èŠ‚é…ç½®
   â”œâ”€ çº¦æŸï¼šæ‰€æœ‰å€¼éƒ½æ»¡è¶³å…³èŠ‚é™åˆ¶
   â””â”€ æ— è§£æ—¶ï¼šå½¢çŠ¶ä¸º (0, 6) çš„ç©ºæ•°ç»„
   
   info
   â””â”€ {'is_success': bool}
      â”œâ”€ True: è‡³å°‘æ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆè§£
      â””â”€ False: æ²¡æœ‰æœ‰æ•ˆè§£

ä½¿ç”¨ç¤ºä¾‹ï¼š
   
   solutions, info = robot.run_ik(target_pos, target_orn)
   
   if info['is_success']:
       print(f"æ‰¾åˆ° {len(solutions)} ä¸ªè§£")
       
       # æ–¹å¼1: ä½¿ç”¨ç¬¬ä¸€ä¸ªè§£
       joint_cmd = solutions[0]
       
       # æ–¹å¼2: é€‰æ‹©æœ€æ¥è¿‘å½“å‰ä½ç½®çš„è§£
       current_pos = robot.get_joint_positions()
       distances = [np.linalg.norm(sol - current_pos) 
                    for sol in solutions]
       best_idx = np.argmin(distances)
       joint_cmd = solutions[best_idx]
   else:
       print("IK æ±‚è§£å¤±è´¥")


ã€å¦‚ä½•æ‰‹åŠ¨æµ‹è¯• run_ikã€‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ–¹æ³•1ï¸âƒ£ : æŸ¥çœ‹è¿è¡Œæ—¥å¿—
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

run_ik ä¼šæ‰“å°è°ƒè¯•ä¿¡æ¯ï¼š

   print(f"ç›®æ ‡ä½ç½®: {pos}")
   print(f"[DEBUG] IK è¿”å›é•¿åº¦: {len(joint_pose)}")

è¿è¡Œæ—¶æŸ¥çœ‹è¿™äº›è¾“å‡ºï¼ŒéªŒè¯ï¼š
  âœ… ç›®æ ‡ä½ç½®æ˜¯å¦æ­£ç¡®ä¼ å…¥
  âœ… IKFast æ˜¯å¦è¿”å›äº†å¤šä¸ªè§£
  âœ… è§£çš„æ•°é‡æ˜¯å¦æ­£ç¡® (é•¿åº¦åº”è¯¥ Ã·6)


æ–¹æ³•2ï¸âƒ£ : éªŒè¯è¿”å›å€¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

åœ¨ä½ çš„ä»£ç ä¸­æ·»åŠ éªŒè¯ï¼š

   solutions, info = robot.run_ik(target_pos, target_orn)
   
   # éªŒè¯1: æ£€æŸ¥è¿”å›ç±»å‹
   assert isinstance(solutions, np.ndarray), "solutions åº”è¯¥æ˜¯ numpy æ•°ç»„"
   assert isinstance(info, dict), "info åº”è¯¥æ˜¯å­—å…¸"
   
   # éªŒè¯2: æ£€æŸ¥å½¢çŠ¶
   if len(solutions) > 0:
       assert solutions.shape[1] == 6, "æ¯ä¸ªè§£åº”è¯¥æœ‰ 6 ä¸ªå…³èŠ‚"
   
   # éªŒè¯3: æ£€æŸ¥çº¦æŸ
   for sol in solutions:
       assert np.all(sol > robot.joint_ll - 1e-3), "å…³èŠ‚ä¸‹é™è¿è§„"
       assert np.all(sol < robot.joint_ul + 1e-3), "å…³èŠ‚ä¸Šé™è¿è§„"
   
   # éªŒè¯4: æ£€æŸ¥æˆåŠŸæ ‡å¿—
   assert info['is_success'] == (len(solutions) > 0), "æˆåŠŸæ ‡å¿—ä¸ä¸€è‡´"


æ–¹æ³•3ï¸âƒ£ : åéªŒè¯æ­£å‘è¿åŠ¨å­¦
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

æµ‹è¯• IK â†’ FK çš„ä¸€è‡´æ€§ï¼š

   # è®¾ç½®ä¸€ä¸ªå·²çŸ¥çš„å…³èŠ‚é…ç½®
   known_joints = [0, -Ï€/2, 0, 0, 0, 0]
   
   # è·å–è¿™ä¸ªé…ç½®çš„æœ«ç«¯ä½ç½® (FK)
   robot.set_joint_positions(known_joints)
   fk_pos, fk_orn = robot.get_end_effector()
   
   # ç”¨è¿™ä¸ªä½ç½®ä½œä¸ºç›®æ ‡è°ƒç”¨ IK
   ik_solutions, info = robot.run_ik(fk_pos, fk_orn)
   
   # éªŒè¯ IK èƒ½æ‰¾åˆ°æ¥è¿‘åŸå§‹çš„è§£
   if info['is_success']:
       # æ‰¾åˆ°æœ€æ¥è¿‘åŸå§‹å…³èŠ‚çš„è§£
       distances = [np.linalg.norm(sol - known_joints) 
                    for sol in ik_solutions]
       best_distance = np.min(distances)
       
       if best_distance < 0.1:  # < ~5.7Â°
           print("âœ… IK åéªŒè¯é€šè¿‡")
       else:
           print("âš ï¸  IK è¿”å›çš„è§£è·ç¦»åŸå§‹å€¼è¾ƒè¿œ")


ã€æ½œåœ¨çš„é—®é¢˜æ’æŸ¥ã€‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

é—®é¢˜1: IK æ— æ³•æ‰¾åˆ°è§£
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
åŸå› å¯èƒ½ï¼š
  â–¡ ç›®æ ‡ä½ç½®è¶…å‡ºæœºæ¢°è‡‚çš„å·¥ä½œç©ºé—´
  â–¡ ç›®æ ‡å§¿æ€ä¸å¯è¾¾
  â–¡ åæ ‡å˜æ¢æœ‰è¯¯
  â–¡ IKFast æ±‚è§£å™¨æ— è§£

æ£€æŸ¥æ–¹æ³•ï¼š
  1. éªŒè¯ç›®æ ‡ä½ç½®æ˜¯å¦åœ¨å·¥ä½œç©ºé—´å†…
  2. æ£€æŸ¥åæ ‡å˜æ¢çŸ©é˜µæ˜¯å¦æ­£ç¡®
  3. å°è¯•è°ƒæ•´ Z è½´åç§» (0.048)
  4. æ£€æŸ¥ base_orn çš„è®¾ç½®


é—®é¢˜2: IK è¿”å›çš„è§£è¶…å‡ºå…³èŠ‚é™åˆ¶
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
åŸå› ï¼š
  â–¡ IKFast è¿”å›äº†éæ³•è§£
  â–¡ çº¦æŸæ£€æŸ¥é€»è¾‘æœ‰è¯¯

æ£€æŸ¥æ–¹æ³•ï¼š
  1. æ‰“å° joint_ll å’Œ joint_ul çš„å€¼
  2. æ£€æŸ¥çº¦æŸæ£€æŸ¥çš„é€»è¾‘
  3. è°ƒæ•´çº¦æŸå®¹å·® (ç›®å‰ä¸º 1e-3)


é—®é¢˜3: è¿”å›çš„è§£ä¸åŸå§‹å…³èŠ‚å·®å¼‚å¤§
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
åŸå› ï¼š
  â–¡ æœºæ¢°è‡‚æœ‰å¤šä¸ªé€†è§£
  â–¡ é€‰æ‹©çš„è§£ä¸æ˜¯æœ€ä¼˜çš„

è§£å†³æ–¹æ³•ï¼š
  åœ¨ä¼—å¤šè§£ä¸­é€‰æ‹©æœ€æ¥è¿‘å½“å‰ä½ç½®çš„ï¼š
  
  current_joints = robot.get_joint_positions()
  distances = [np.linalg.norm(sol - current_joints[:6]) 
               for sol in solutions]
  best_solution = solutions[np.argmin(distances)]


ã€éªŒè¯æ£€æŸ¥æ¸…å•ã€‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ä»£ç å®ç°æ£€æŸ¥ï¼š
  âœ… åŸºåº§æ—‹è½¬çŸ©é˜µè®¡ç®— (L712)
  âœ… ä½ç½®åæ ‡å˜æ¢ (L714)
  âœ… Xè½´åç§»è¡¥å¿ (L715)
  âœ… Zè½´åç§»è¡¥å¿ (L716)
  âœ… åŸºåº§æ—‹è½¬é€†å˜æ¢ (L717)
  âœ… å§¿æ€çŸ©é˜µè½¬æ¢ (L718)
  âœ… å§¿æ€æ—‹è½¬é€†å˜æ¢ (L719)
  âœ… IKFast è¾“å…¥æ„é€  (L724)
  âœ… IKFast æ±‚è§£è°ƒç”¨ (L728)
  âœ… å¤šè§£å¤„ç† (L730-731)
  âœ… çº¦æŸæ£€æŸ¥ (L733-736)
  âœ… è¿”å›å€¼æ ¼å¼ (L738)

é€»è¾‘æ­£ç¡®æ€§æ£€æŸ¥ï¼š
  âœ… åæ ‡å˜æ¢é¡ºåºæ­£ç¡®
  âœ… çŸ©é˜µè¿ç®—ç»´åº¦åŒ¹é…
  âœ… å¤šè§£è§£ææ— è¯¯
  âœ… çº¦æŸæ¡ä»¶å®Œå¤‡
  âœ… è¿”å›å€¼ç±»å‹æ­£ç¡®


ã€æ€»ç»“ã€‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ run_ik çš„å®ç°æ˜¯å®Œæ•´å’Œæ­£ç¡®çš„ï¼

æ ¸å¿ƒç‰¹ç‚¹ï¼š
  âœ… åæ ‡ç³»å˜æ¢å®Œå¤‡ï¼ŒåŒ…å«åŸºåº§ä½ç½®ã€æ—‹è½¬å’Œç»“æ„åç§»
  âœ… æ­£ç¡®é›†æˆ IKFast é€†è¿åŠ¨å­¦æ±‚è§£å™¨
  âœ… æ”¯æŒå¤šè§£æ±‚è§£å’Œè‡ªåŠ¨è¿‡æ»¤
  âœ… çº¦æŸæ£€æŸ¥è§„èŒƒï¼Œé˜²æ­¢éæ³•è§£
  âœ… è¿”å›å€¼æ ¼å¼è§„èŒƒï¼Œä¾¿äºä½¿ç”¨

å¯ä»¥æ”¾å¿ƒä½¿ç”¨ï¼

